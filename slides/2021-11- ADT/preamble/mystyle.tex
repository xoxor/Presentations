%%Title page
\makeatletter
\defbeamertemplate*{title page}{mytitle}[1][]
{
	\vbox{}
	\vfill
	\begin{centering}

%{\usebeamercolor[fg]{titlegraphic}\inserttitlegraphic\par}
		\begin{beamercolorbox}{titlegraphic}
				\usebeamerfont{titlegraphic}\inserttitlegraphic
		\end{beamercolorbox}%
			\vskip1em\par	
		\begin{beamercolorbox}[rounded=true, center, shadow=true, sep=8pt,#1]{title}
			\usebeamerfont{title}\inserttitle\par%
			\ifx\insertsubtitle\@empty%
			\else%
			\vskip0.5em%
			{\usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle\par}%
			\fi%     
		\end{beamercolorbox}%
		\vskip1em\par
		\begin{beamercolorbox}[sep=8pt,center,#1]{author}
			\usebeamerfont{author}\insertauthor
		\end{beamercolorbox}
		\begin{beamercolorbox}[sep=8pt,center,#1]{institute}
			\usebeamerfont{institute}\insertinstitute
		\end{beamercolorbox}
		\begin{beamercolorbox}[sep=8pt,center,#1]{date}
			\usebeamerfont{date}\insertdate
		\end{beamercolorbox}\vskip0.5em
		\begin{beamercolorbox}[sep=8pt,center,#1]{logo}
			\insertlogo
		\end{beamercolorbox}%
	\end{centering}
	
}
\setbeamertemplate{title page}[mytitle]
\makeatother

%Footline
%%CAREFUL! overflow when too many slides
\makeatletter
\setbeamercolor{progress bar progress}{use=progress bar,bg=progress bar.fg}
\defbeamertemplate{footline}{progress bar}{
	\dimen0=\paperwidth
	\multiply\dimen0 by \insertframenumber
	\divide\dimen0 by \inserttotalframenumber
	\edef\progressbarwidth{\the\dimen0}
	
	\leavevmode%
	\begin{beamercolorbox}[wd=\paperwidth,ht=2ex,dp=1ex,right]{bar}
		\insertframenumber{} / \inserttotalframenumber\hspace*{2ex} 
	\end{beamercolorbox}
	\newline
	\begin{beamercolorbox}[wd=\paperwidth,ht=1ex,dp=1ex]{progress bar}
		\begin{beamercolorbox}[wd=\progressbarwidth,ht=1ex,dp=1ex]{progress bar progress}
		\end{beamercolorbox}%
	\end{beamercolorbox}%
	
	
}
\setbeamertemplate{footline}[progress bar]
\setbeamercolor{progress bar}{fg=red!65!black,bg=white!85!black}
\makeatother

%Headline empty
\setbeamertemplate{headline}{}
